<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[公输目]]></title>
  <subtitle><![CDATA[技之不精，由于多心。		——师旷]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://gshmu.github.io/"/>
  <updated>2015-04-12T00:03:35.188Z</updated>
  <id>http://gshmu.github.io/</id>
  
  <author>
    <name><![CDATA[gshmu]]></name>
    
  </author>
  
  <generator uri="http://zespia.tw/hexo/">Hexo</generator>
  
  <entry>
    <title><![CDATA[rege Guide]]></title>
    <link href="http://gshmu.github.io/2015/04/08/rege-Guide/"/>
    <id>http://gshmu.github.io/2015/04/08/rege-Guide/</id>
    <published>2015-04-07T16:00:00.000Z</published>
    <updated>2015-04-09T01:41:31.000Z</updated>
    <content type="html"><![CDATA[<p>不知不觉系统的学习正则已经一年了，特撰此文。推荐教材《精通正则表达式》英文名：&quot;mastering regular expressions&quot;，作者：Jeffrey E. F. Friedl。注：如果你看中文版时觉得代码有问题，请看原版，至少看原版的代码。</p>
<h2 id="开门见山">开门见山</h2><p>元字符什么的我就不说了，先说说“环视”。顾名思义环视就是环顾四周，周围是根据当前位置（描点）确定的。环视的作用是环顾四周，但并不匹配（捕获）周围字符。根据描点的前面或后面，是或不是分为四种：正向肯定环视、正向否定环视、逆向肯定环视和逆向否定环视。</p>
<p>说了环视，下来说捕获。捕获有捕捉，获取拿到之意。初学正则时，使用的都是捕获，如<code>\s</code>：捕获一个空白；<code>\d+</code>： 捕获至少一个数字。既然有捕获，就有非捕获，这里要说明的是环视是不捕获的，环视会确定一个位置点。</p>
<p>速度：这里单指正则表达式的速度，如何写出速度更高的正则。不匹配时，要加快匹配失败的速度，同时要减少回溯。正则要尽可能的准确的描述，如指定<code>^$</code>中的一个或都指定。<code>++</code>和<code>+?</code>指的是匹配优先，和忽略优先，前者一次匹配尽可能多的字符，后者则一个一个匹配。</p>
<p>这是我们讲回溯，我的理解是：回溯是将已经匹配了的字符吐出来，尝试再次匹配。</p>
<h2 id="总结">总结</h2><p><strong>未完待续</strong>
本文目的不是教会正则，如果能通过本文对正则产生兴趣足以，那本书写的很好，很是推荐。</p>
]]></content>
    
    
      <category term="regex" scheme="http://gshmu.github.io/tags/regex/"/>
    
      <category term="regex" scheme="http://gshmu.github.io/categories/regex/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Django Advanced]]></title>
    <link href="http://gshmu.github.io/2015/03/22/Django-Advanced/"/>
    <id>http://gshmu.github.io/2015/03/22/Django-Advanced/</id>
    <published>2015-03-22T00:08:06.000Z</published>
    <updated>2015-03-23T01:00:12.000Z</updated>
    <content type="html"><![CDATA[<p>本文记述我在使用Django时遇到的两个问题，两次被坑的过程，也是两次进步的过程。</p>
<h2 id="<code>qs[m:n].update()</code>"><code>qs[m:n].update()</code></h2><p>业务我就不多说了，给queryset（总数可能有十万之多）中的部分（以万记）更新某个字段（或者说分配到某个订单），由于要保证互斥，同时希望序列号连续（对应实体的东西，方便分取）所以使用<code>select_for_update()</code>，当然任何使用锁的地方应该确保尽可能少锁，同时尽快释放。</p>
<p>问题出来了，如此多的数据，如果循环更新，锁的时间将会比较长，可是Django不支持切片后更新。办法：</p>
<figure class="highlight python"><figcaption><span>qs[m:n].update()</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">qs = Models.objects.filter(...).select_for_update().order_by(<span class="string">"id"</span>)</div><div class="line">rows = qs.filter(id__lt=qs[count:count+<span class="number">1</span>].get().id).update(...)</div><div class="line"><span class="keyword">assert</span>(rows == count)  <span class="comment"># TODO: remove</span></div></pre></td></tr></table></figure>

<h2 id="<code>qs.distinct().aggregate()</code>"><code>qs.distinct().aggregate()</code></h2><p>相信熟悉SQL的同学对distinct一定不陌生，加上MySQL后端，就出了这个问题。由于冗余条件的存在，所以qs里面出现了重复数据，这里就不赘述了。（注：当时使用的是Django==1.5.8，django不支持distinct(field)） So：</p>
<figure class="highlight python"><figcaption><span>qs.distinct().aggregate()</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">qs = Models.objects.filter(...)</div><div class="line">qs = Models.objects.filter(pk__in=qs)  <span class="comment"># distinct</span></div><div class="line">sum_dict = qs.aggregate(...)</div></pre></td></tr></table></figure>

<p>没错，就是多操作了一步。解决方法就是这么简单，可是这个重复数据并不总是有，让我头疼了好一阵子，不过还是被我给揪出来了。</p>
<h2 id="总结">总结</h2><p>第二个问题环境：MySQL数据库后端 + Diango&lt;1.6。当然如今我们都升1.7了，不过我还是记录下。</p>
]]></content>
    
    
      <category term="django" scheme="http://gshmu.github.io/tags/django/"/>
    
      <category term="python" scheme="http://gshmu.github.io/tags/python/"/>
    
      <category term="Advanced" scheme="http://gshmu.github.io/tags/Advanced/"/>
    
      <category term="Python" scheme="http://gshmu.github.io/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Assembled computers]]></title>
    <link href="http://gshmu.github.io/2015/03/10/Assembled-computers/"/>
    <id>http://gshmu.github.io/2015/03/10/Assembled-computers/</id>
    <published>2015-03-09T16:00:00.000Z</published>
    <updated>2015-03-16T02:59:54.000Z</updated>
    <content type="html"><![CDATA[<p>欣赏台式机的性能，所以一直计划这亲自攥台PC，话说我真不懂攥机，权当时分享下“失败”的经验吧。</p>
<h2 id="配单">配单</h2><ul>
<li>CPU：E3-1231 V3 (3.4GHz*8 志强四核八线程)</li>
<li>内存：Kingston 8G (骇客神条 1866MHz)</li>
<li>主板：ASUS B85-PLUS R2.0</li>
<li>显卡：NVIDIA GeForce GT 730</li>
<li>硬盘：希捷1T，7200转 (机械硬盘)</li>
<li>键鼠：DeLUX竖式鼠标， PERIXX分离式键盘 (有线，人体工学)</li>
<li>电源：航嘉400W</li>
</ul>
<p>我曾想过，用i5集显（i5性价比较高，所以没选i7），不过最后还是用E3独显了。（E3不集成GPU，所以需要配独显）</p>
<h2 id="问题">问题</h2><p>我新组的电脑装了Ubuntu，然后无法关机，关机后等3s自动重启。。。</p>
<p>起初，我怀疑是Linux系统问题，内核都编译了（主要修改CPU和电源相关选项，CPU果然给力，一个小时内就可编译完毕），后来用WinPE试，还是关不了，然后用Windows试，装了官方驱动，还是关不掉...</p>
<p>几经折腾，最后断定是主板问题，跑了趟赛格，更换了主板（还好没有超过一个月包换）。
一切正常了。。。</p>
<h2 id="总结">总结</h2><p>用Linux容易，做Linux不易，且行且珍惜。。。</p>
]]></content>
    
    
      <category term="life" scheme="http://gshmu.github.io/tags/life/"/>
    
      <category term="Linux" scheme="http://gshmu.github.io/tags/Linux/"/>
    
      <category term="Other" scheme="http://gshmu.github.io/categories/Other/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Advanced Linux]]></title>
    <link href="http://gshmu.github.io/2015/03/10/Advanced-Linux/"/>
    <id>http://gshmu.github.io/2015/03/10/Advanced-Linux/</id>
    <published>2015-03-09T16:00:00.000Z</published>
    <updated>2015-03-16T06:36:59.000Z</updated>
    <content type="html"><![CDATA[<p>本文介绍几个Ubuntu进阶的操作。</p>
<h2 id="先晒晒我信攥的电脑">先晒晒我信攥的电脑</h2><ul>
<li>CPU：E3-1231 V3 (3.4GHz*8 志强四核八线程)</li>
<li>内存：Kingston 8G (骇客神条 1866MHz)</li>
<li>主板：ASUS B85-PLUS R2.0</li>
<li>显卡：NVIDIA GeForce GT 730</li>
</ul>
<p>CPU，内存没得说，显卡很一般，Linux用完全足够了，如果想超频主板可用Z97K，我不超频也足够了</p>
<h2 id="显卡驱动">显卡驱动</h2><p>志强CPU不集成GPU，所以需要独立显卡，显卡驱动是避免不了的。<a href="https://linuxtoy.org/archives/compare-linux-driver-support-between-three-major-gpus.html">更多关于显卡的介绍，推荐</a></p>
<h3 id="官方闭源驱动">官方闭源驱动</h3><p>官网按型号下载驱动，然后进入命令行(tty1-6)，关闭Xorg，<code>sh</code>装驱动，然后启动Xorg。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">sudo</span> service lightdm stop</div><div class="line"><span class="built_in">sudo</span> sh NVIDIA-Linux-x86_64-<span class="number">346.35</span>.run </div><div class="line"><span class="built_in">sudo</span> service lightdm start</div></pre></td></tr></table></figure>

<h3 id="包管理器直接装">包管理器直接装</h3><p><code>sudo apt-get install nvidia-331 nvidia-prime nvidia-settings</code>
331是我装时候仓库中最新的。</p>
<h3 id="装完后，不测试下？">装完后，不测试下？</h3><p>工具： glxgears
奇怪，人家都说是评分多少万，为啥我的几乎定在60FPS？ 原来是设置里开了，垂直同步，取消后评分正常。</p>
<h2 id="grub2-引导">GRUB2 引导</h2><p>（Ubuntu 14.04下）grub引导选项主要是由/boot/grub/grub.cfg控制的，不过这个文件是自动生成的，我们一般编辑/etc/default/grub，然后通过命令<code>sudo update-grub</code>应用改动。</p>
<h3 id="常用选项">常用选项</h3><ul>
<li>启动顺序 <code>GRUB_DEFAULT</code> 默认是0</li>
<li>延时时间 <code>GRUB_TIMEOUT</code> 就是显示grub菜单的时间（单系统默认不显示，开机按Shift即可。）</li>
<li>想开机进命令行修改 <code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;text&quot;</code></li>
<li>添加内核参数 <code>GRUB_CMDLINE_LINUX=&quot;&quot;</code> 添加你想加的参数，如<code>reboot=a</code></li>
</ul>
<p>无论修改什么，都别忘了修改后更新grub！</p>
<h2 id="新内核">新内核</h2><p>说到内核，你知道你的内核版本么？还记得命令<code>uname -r</code>吧。</p>
<h3 id="编译内核">编译内核</h3><p>我编译过内核，那是因为第一次主板有问题，关机后自动重启，我由于设备教新，所以怀疑驱动等问题。按照wiki我尝试修改了CPU选项和电源选项，不过后来确认是主板问题，跑华硕售后，确认主板有问题，然后换了主板。我不敢大言不惭教大家编译内核，我想说的是新内核源里就有，用新内核不一定需要自己编译。还有我想说的是编译过程比较久，我3.4GHz*8的主频，需要1h这么久。</p>
<h3 id="装新内核">装新内核</h3><p>就不教大家装包了，大家都会。不过我想提醒大家的是，装新内核时有几个包需要统一装，不要漏了哪个。</p>
<figure class="highlight shell"><figcaption><span>新内核的四个包</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">apt-get install linux-headers-x.xx \</div><div class="line">		linux-headers-x.xx-<span class="keyword">generic</span> \</div><div class="line">		linux-image-x.xx-<span class="keyword">generic</span> \</div><div class="line">		linux-image-extra-x.xx-<span class="keyword">generic</span></div></pre></td></tr></table></figure>

<p>四个包，x.xx是版本号，自行替换。</p>
<p>目前源里版本更新到3.16.0-31了，Linux内核最新版本已经到4.0了，告诉大家个好消息，4.0版本以后，Linux再也不要求大家重启了，厌倦了Windows反复重启的可要牢记哦。</p>
<h2 id="总结">总结</h2><p>最后再次提醒大家修改grub设置后，不要忘记update-grub哦。</p>
]]></content>
    
    
      <category term="Linux" scheme="http://gshmu.github.io/tags/Linux/"/>
    
      <category term="Advanced" scheme="http://gshmu.github.io/tags/Advanced/"/>
    
      <category term="GRUB" scheme="http://gshmu.github.io/tags/GRUB/"/>
    
      <category term="Linux" scheme="http://gshmu.github.io/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Come Back]]></title>
    <link href="http://gshmu.github.io/2014/12/22/come-back/"/>
    <id>http://gshmu.github.io/2014/12/22/come-back/</id>
    <published>2014-12-21T16:00:00.000Z</published>
    <updated>2015-03-10T07:08:43.000Z</updated>
    <content type="html"><![CDATA[<p>我想家了，从大学开始，我距离家跨好几个省，在外边过的还算适应，一切也还好。工作后每年回一次家，可是就回这一次家，火车票买不到，我不得不考虑下在家附近工作了...</p>
<h2 id="compare">Compare</h2><p>最近陷入深深的矛盾中，平时休息离家太远压根不可能想回家，过年一般也就七八天假，难得有一次要回家，可恶的12306，我没用任何刷票软件，我只是没有用IE罢了。我做好了一切准备，或许只是因为我准备了，换来了12306的“非法提交”，然后没然后了，我只是有点儿再也不想抢长途火车票的想法了...</p>
<p>无可否认上海很不错，但我决定回家了，回家是不需要理由的，但：</p>
<ul>
<li>过年时节，再也不用受12306的气了</li>
<li>到家那天，算好的是母亲生日</li>
<li>让父母享受下现代科技，和远嫁连云港的姐姐视频聊天</li>
<li>放假时节，想回家就到家了...</li>
</ul>
<h2 id="总结">总结</h2><p>短短一年时间，辞职两次，一次为了Linux，一次为了回家。裸辞两次，裸辞是一种态度——心无旁骛</p>
]]></content>
    
    
      <category term="life" scheme="http://gshmu.github.io/tags/life/"/>
    
      <category term="Other" scheme="http://gshmu.github.io/categories/Other/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Learn Linux]]></title>
    <link href="http://gshmu.github.io/2014/12/18/Learn-Linux/"/>
    <id>http://gshmu.github.io/2014/12/18/Learn-Linux/</id>
    <published>2014-12-17T16:00:00.000Z</published>
    <updated>2015-04-07T23:42:30.000Z</updated>
    <content type="html"><![CDATA[<p>许多尝试过Linux过的，说起Linux总是一堆问题，外加一堆不习惯。我厌倦了Windows，尤其是中国特色下的 Windows，厌倦了杀毒软件，厌倦了盗版软件，所以决定换Linux。在换Linux的过程中，不能说没有问题，但基本是一帆风顺的，所以计划写本文。</p>
<h2 id="how-to-learn-linux?">How to learn Linux?</h2><p>说实话，我学Linux(Ubuntu)并不久，不敢妄言怎么去学Linux，只是分享下我是怎么学Linux的。</p>
<h3 id="no-vms">No VMs</h3><p>不要用虚拟机，也不建议刚装Linux，在Linux下装虚拟机装Windows。虚拟机的性能会大打折扣，虚拟机下优盘挂载、共享文件、屏幕大小等也不是一开始就合适的，所以不建议使用虚拟机。</p>
<p>Ubuntu支持wubi.exe，但我推荐最好是全新安装，安装一个系统最好，双系统也还好。</p>
<h3 id="habit">Habit</h3><p>不要说什么不习惯，我想说和Windows不一样就对了，本身就不是Windows。声明下，不要提到Linux就是命令行，图形界面已经很成熟了。Linux下可以说没有不能改的，同时Linux发行版众多，和Windows习惯相同的也是有的。</p>
<h3 id="install">Install</h3><p>我推荐全新安装Linux，但是安装盘有时候并不是那么好制作，Windows下有名的工具UltraISO，并不能制作可用的Ubuntu启动U盘。不过制作好的Linux LiveCD功能可是相当强大的，Windows下工具也是有的：<a href="http://unetbootin.sourceforge.net/">UNetbootin</a> &amp;&amp; <a href="http://www.pendrivelinux.com/">Live USB Creator</a></p>
<p>看到这里，我建议有机会搞个LiveCD启动下玩玩。（注意备份资料，误操作全新安装会丢失硬盘数据），进入Linux后很多安装都是图形化的（如Ubuntu，SUSE，Debaian，Fedora，LinuxMint...），保留以前系统的，务必选择高级，自定义分区，不会破坏现有系统和引导的。</p>
<h3 id="guide">Guide</h3><p>学习Linux，最好有本书作为指导，指导方向。版本选择可以选和书一致的，不过新几个版本也没有问题。建议：用长期支持的稳定版本！</p>
<h3 id="software">SoftWare</h3><p>软件安装尽量直接用软件中心的图形话界面，初学请避免编译安装。编译安装很好很强大，但是有不少人死在了无尽的编译中。</p>
<p>Linux下软件很丰富，可是你用的不一定有，有些游戏真的不能玩，但是Linux下有游戏，有不少游戏。举个例子，迅雷没有，可是同类的下载软件有一堆...</p>
<h3 id="qq">QQ</h3><p>很多没有QQ就活不了的，我想说：你想用的QQ真不怎么有，虽说Linux下有解决方案，可是问题不是Linux，问题是永远不会是第一腾讯！！！</p>
<p>Linux下最直接的是<a href="http://w.qq.com">WebQQ</a>， 然后是Pidgin+<a href="https://github.com/xiehuc/pidgin-lwqq/wiki/Install-On-Linux">lwqq</a>插件，然后还有Wine和收费版的Wine：<a href="https://www.codeweavers.com/support/forums/general/?t=37;msg=151682">CrossOver</a></p>
<h2 id="总结">总结</h2><p>想学Linux的就勇敢去学，失败的人总是在找借口，成功的人总是在找方法。</p>
]]></content>
    
    
      <category term="Linux" scheme="http://gshmu.github.io/tags/Linux/"/>
    
      <category term="Linux" scheme="http://gshmu.github.io/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[git_rename]]></title>
    <link href="http://gshmu.github.io/2014/10/28/git-rename/"/>
    <id>http://gshmu.github.io/2014/10/28/git-rename/</id>
    <published>2014-10-27T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<h2 id="why">Why</h2><p>项目多了，难免会有重命名的时候，重命名本身没什么问题，可是加上gitignore中的<code>*.pyc</code>或<code>*~</code>可能会出现些问题…</p>
<h3 id="q">Q</h3><p>重命名的时候一般不会有问题，可是在分支切换的同时，由于存在ignore的文件，分支的切换并不会那么正确。
往往会多出重命名前或重命名后的文件夹，多的原因就是文件夹下有被忽略的临时文件。</p>
<p>原因很简单，所以解决也不难，删除多余的文件夹，一切正常了。</p>
<h2 id="总结">总结</h2><p>git在重命名文件夹后切换分支可能由于ignore临时文件的存在多出重命名前后的文件夹。</p>
]]></content>
    
    
      <category term="git" scheme="http://gshmu.github.io/tags/git/"/>
    
      <category term="Git" scheme="http://gshmu.github.io/categories/Git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[slice]]></title>
    <link href="http://gshmu.github.io/2014/10/14/slice/"/>
    <id>http://gshmu.github.io/2014/10/14/slice/</id>
    <published>2014-10-14T02:46:19.000Z</published>
    <updated>2015-03-23T00:12:23.000Z</updated>
    <content type="html"><![CDATA[<p>“不会slice，绝不能说会python”，slice的重要性不言而喻。</p>
<h2 id="basis">Basis</h2><ul>
<li>index start with 0</li>
<li>support negtive index</li>
<li>[included:excluded:step] eg: <strong><code>[:]</code></strong>, <strong><code>[::-1]</code></strong></li>
<li>work with list, tuple and string</li>
</ul>
<h2 id="step">step</h2><figure class="highlight python"><figcaption><span>Ipython 中的示例</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">1</span>]: e = range(<span class="number">6</span>)</div><div class="line">  </div><div class="line">In [<span class="number">2</span>]: e</div><div class="line">Out[<span class="number">2</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line">  </div><div class="line">In [<span class="number">3</span>]: e[:]</div><div class="line">Out[<span class="number">3</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line">  </div><div class="line">In [<span class="number">4</span>]: e[<span class="number">6</span>]</div><div class="line">IndexError</div><div class="line">  </div><div class="line">In [<span class="number">5</span>]: e[<span class="number">5</span>]</div><div class="line">Out[<span class="number">5</span>]: <span class="number">5</span></div><div class="line">  </div><div class="line">In [<span class="number">6</span>]: e[:<span class="number">5</span>]</div><div class="line">Out[<span class="number">6</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">  </div><div class="line">In [<span class="number">7</span>]: e[:<span class="number">6</span>]</div><div class="line">Out[<span class="number">7</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line">  </div><div class="line">In [<span class="number">8</span>]: e[::-<span class="number">1</span>]</div><div class="line">Out[<span class="number">8</span>]: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</div><div class="line">  </div><div class="line">In [<span class="number">9</span>]: e[<span class="number">6</span>:<span class="number">0</span>]</div><div class="line">Out[<span class="number">9</span>]: []</div><div class="line">  </div><div class="line">In [<span class="number">10</span>]: e[<span class="number">6</span>:<span class="number">0</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">10</span>]: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</div><div class="line">  </div><div class="line">In [<span class="number">11</span>]: <span class="number">0</span> <span class="keyword">in</span> e[<span class="number">6</span>:<span class="number">0</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">11</span>]: <span class="keyword">False</span></div><div class="line">  </div><div class="line">In [<span class="number">12</span>]: e[<span class="number">5</span>:<span class="number">0</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">12</span>]: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</div><div class="line">  </div><div class="line">In [<span class="number">13</span>]: e[<span class="number">5</span>:<span class="number">0</span>:-<span class="number">1</span>] == e[<span class="number">6</span>:<span class="number">0</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">13</span>]: <span class="keyword">True</span></div><div class="line">  </div><div class="line">In [<span class="number">14</span>]: e[-<span class="number">1</span>:-<span class="number">7</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">14</span>]: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</div><div class="line">  </div><div class="line">In [<span class="number">15</span>]: e[-<span class="number">1</span>:-<span class="number">7</span>:-<span class="number">1</span>] == e[::-<span class="number">1</span>]</div><div class="line">Out[<span class="number">15</span>]: <span class="keyword">True</span></div><div class="line">  </div><div class="line">In [<span class="number">16</span>]: e[-<span class="number">1</span>:-<span class="number">9</span>:-<span class="number">1</span>]</div><div class="line">Out[<span class="number">16</span>]: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</div><div class="line">  </div><div class="line">In [<span class="number">17</span>]: e[::-<span class="number">2</span>] == e[-<span class="number">1</span>:-<span class="number">7</span>:-<span class="number">2</span>]</div><div class="line">Out[<span class="number">17</span>]: <span class="keyword">True</span></div><div class="line">  </div><div class="line">In [<span class="number">18</span>]: e[::-<span class="number">2</span>] == e[-<span class="number">1</span>:-<span class="number">8</span>:-<span class="number">2</span>]</div><div class="line">Out[<span class="number">18</span>]: <span class="string">'Just do IT'</span></div></pre></td></tr></table></figure>

<ul>
<li><strong>e[::-1] == e[-1:-7:-1]</strong></li>
<li>slice切片中索引可以超出实际范围</li>
<li>带有步长的切片，索引顺序和步长方向一致</li>
<li>切片总是新产生一个对象，而不是改变原有对象</li>
</ul>
<h2 id="总结">总结</h2><p><code>Just do IT</code></p>
]]></content>
    
    
      <category term="python" scheme="http://gshmu.github.io/tags/python/"/>
    
      <category term="slice" scheme="http://gshmu.github.io/tags/slice/"/>
    
      <category term="pythonic" scheme="http://gshmu.github.io/tags/pythonic/"/>
    
      <category term="Python" scheme="http://gshmu.github.io/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mailcap]]></title>
    <link href="http://gshmu.github.io/2014/10/13/mailcap/"/>
    <id>http://gshmu.github.io/2014/10/13/mailcap/</id>
    <published>2014-10-12T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<p><code>Tencent === Trash</code>，微云下载的文件总是用gedit打开，firefox如是说。有谁能想到，腾讯微云下载的文件有着一样错误的<code>Content-Type: &quot;application/octet-stream&quot;</code></p>
<h3 id="<code>the-way-to-fix-it</code>"><code>The Way to fix it</code></h3><p>Ubuntu 下，命令行执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">'application/octet-stream; nautilus --no-default-window --no-desktop %s; test=test -n "$DISPLAY"'</span> &gt;&gt; ~/.mailcap</div></pre></td></tr></table></figure>

<p>其实就是向家目录下<code>.mailcap</code>文件追加上述命令单引号内中的内容。（文件不存在则新建）</p>
<h3 id="reason">reason</h3><p>微云下载文件时，HTTP Response headers，中使用了不是Trash不可能使用的<code>Content-Type: &quot;application/octet-stream&quot;</code>，这是什么鬼文件，系统说他不认识，你试试gedit吧。</p>
<p>上面的解决方法是，<code>application/octet-stream</code>类型的文件用nautilus打开（在文件夹中显示），之所以没有定义到确定的应用，因为我常用的有zip和pdf两种，只好折中使用nautilus了。</p>
<h2 id="总结">总结</h2><p>firefox中下载的文件总是用gedit打开，我气愤不止一次了。我用Linux，为什么用QQ，因为有人用QQ，为什么是微云，因为有用QQ发的文件，我只好借用微云，然后浏览器下载下来。</p>
<h3 id="感谢irc:-<code>cork</code>">感谢IRC: <code>Cork</code></h3>]]></content>
    
    
      <category term="config" scheme="http://gshmu.github.io/tags/config/"/>
    
      <category term="Linux" scheme="http://gshmu.github.io/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[tuple change?]]></title>
    <link href="http://gshmu.github.io/2014/10/08/tuple/"/>
    <id>http://gshmu.github.io/2014/10/08/tuple/</id>
    <published>2014-10-07T16:00:00.000Z</published>
    <updated>2015-03-23T00:13:00.000Z</updated>
    <content type="html"><![CDATA[<p>在python中元组tuple是不能改变的，列表和字典是可以改变的。</p>
<h3 id="<code>change</code>"><code>change</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">1</span>]: l = [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line"> </div><div class="line">In [<span class="number">2</span>]: d = {<span class="string">'a'</span>:<span class="string">'aaa'</span>, <span class="string">'b'</span>:<span class="string">'bbb'</span>}</div><div class="line"> </div><div class="line">In [<span class="number">4</span>]: t = (l, d)</div><div class="line"> </div><div class="line">In [<span class="number">5</span>]: t</div><div class="line">Out[<span class="number">5</span>]: ([<span class="number">1</span>, <span class="number">2</span>], {<span class="string">'a'</span>: <span class="string">'aaa'</span>, <span class="string">'b'</span>: <span class="string">'bbb'</span>})</div><div class="line"> </div><div class="line">In [<span class="number">7</span>]: l.pop()</div><div class="line">Out[<span class="number">7</span>]: <span class="number">2</span></div><div class="line"> </div><div class="line">In [<span class="number">8</span>]: t</div><div class="line">Out[<span class="number">8</span>]: ([<span class="number">1</span>], {<span class="string">'a'</span>: <span class="string">'aaa'</span>, <span class="string">'b'</span>: <span class="string">'bbb'</span>})</div><div class="line"> </div><div class="line">In [<span class="number">9</span>]: l.append(<span class="number">3</span>)</div><div class="line"> </div><div class="line">In [<span class="number">10</span>]: t</div><div class="line">Out[<span class="number">10</span>]: ([<span class="number">1</span>, <span class="number">3</span>], {<span class="string">'a'</span>: <span class="string">'aaa'</span>, <span class="string">'b'</span>: <span class="string">'bbb'</span>})</div></pre></td></tr></table></figure>

<h2 id="总结">总结</h2><p>上述，元组的项目是列表，改变了列表。元组有没有改变，自己掂量吧...</p>
]]></content>
    
    
      <category term="python" scheme="http://gshmu.github.io/tags/python/"/>
    
      <category term="tuple" scheme="http://gshmu.github.io/tags/tuple/"/>
    
      <category term="Python" scheme="http://gshmu.github.io/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[4>3>2]]></title>
    <link href="http://gshmu.github.io/2014/09/19/4%3E3%3E2/"/>
    <id>http://gshmu.github.io/2014/09/19/4>3>2/</id>
    <published>2014-09-18T16:00:00.000Z</published>
    <updated>2015-03-23T00:12:52.000Z</updated>
    <content type="html"><![CDATA[<p>在我看来，python不仅是程序，还是艺术。</p>
<h3 id="<code>4&gt;3&gt;2</code>"><code>4&gt;3&gt;2</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">1</span>]: <span class="number">4</span>&gt;<span class="number">3</span>&gt;<span class="number">2</span></div><div class="line">Out[<span class="number">1</span>]: <span class="keyword">True</span></div></pre></td></tr></table></figure>

<p>懂程序的都知道，<code>4&gt;3 and 3&gt;2</code>不能写成<code>4&gt;3&gt;2</code>(<code>4&gt;3</code>求值后是True，也就是1）。可是他们不懂python，<code>4&gt;3&gt;2</code>学过数学的都知道，对的就是对的啊。python推荐这么写，这么写效率更好。</p>
]]></content>
    
    
      <category term="python" scheme="http://gshmu.github.io/tags/python/"/>
    
      <category term="bool" scheme="http://gshmu.github.io/tags/bool/"/>
    
      <category term="pythonic" scheme="http://gshmu.github.io/tags/pythonic/"/>
    
      <category term="Python" scheme="http://gshmu.github.io/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[push -f]]></title>
    <link href="http://gshmu.github.io/2014/09/18/git_force/"/>
    <id>http://gshmu.github.io/2014/09/18/git_force/</id>
    <published>2014-09-17T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<p>不要用root用户，不要用force参数，这都是老生常谈的话题了。
权利越大，责任越大,可是总是有人使用...</p>
<h2 id="git-push--f">git push -f</h2><p>实话是说，使用force闯祸了...
git提交的多了，难免有些错误想要去掉，干净的提交履历确实好看，也更容易表明做了些什么。
一行代码，第一次改错了，push到master分支了，就一行。(就一行，唯一的一行，所以唯一的一次没有另开分支。)
所以我就回退了一个版本，重新修改force提交了，按说也没有多少问题，可是CI(持续集成)，拉到了那个错误提交的版本，然后无法拉到其它更新的版本了...</p>
<h3 id="fix-it">FiX IT</h3><p>首先我想的是，恢复出那个版本。习惯性的新开分支，锁定到第一次错误提交后的那个版本，然后修改，然后pull request。那个版本出现了，不是孤立的了，可是CI仍然不能拉到更新的版本。。。</p>
<h3 id="reset">reset</h3><p>重新来，新开分支，<code>reset</code>一堆修改，然后pull request。“改或者不改，CI的版本就在那里，不增不减。”</p>
<h3 id="哎">哎</h3><p>最后，我大师出马了。。。危难时刻还是有大师好啊...</p>
<h2 id="总结">总结</h2><p>自我总结，本次Fix失败，主要原因是一直新开分支，采用了错误的方法。丢失了原本该有的胆识，不过话说回来，master分支搞错是会死人的。（虽说git仓库还是容易恢复，不易于被恶意破坏）
<code>解铃还须系铃人，force闯的祸，应该用force去修复</code>，最后感谢大师。</p>
]]></content>
    
    
      <category term="git" scheme="http://gshmu.github.io/tags/git/"/>
    
      <category term="force" scheme="http://gshmu.github.io/tags/force/"/>
    
      <category term="Git" scheme="http://gshmu.github.io/categories/Git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Which fm]]></title>
    <link href="http://gshmu.github.io/2014/09/11/which_fm/"/>
    <id>http://gshmu.github.io/2014/09/11/which_fm/</id>
    <published>2014-09-10T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<p>身为程序猿，带耳机早已成为习惯，什么歌曲真心无所谓，只是带耳机的同时，和外界相对隔离起来。</p>
<h2 id="radio/fm">Radio/fm</h2><p>Linux 下有款软件：<a href="http://guayadeque.org/">Guayadeque</a>，自带好多电台，我的是1.2W+，如果不够我再提供个网址<a href="http://www.shoutcast.com/">shoutcast</a>，如此多的电台，不怕没有我爱听的。</p>
<h4 id="jing.fm">jing.fm</h4><p>jing 据说是一款小众的电台，据说刚要发展就被抄袭的电台。所以我还是觉得支持下小众。
jing 传说的强项之一就是，自然 话语言搜索，我尝试了下<code>工作</code>，<code>编程</code>之类的没有结果，然后试了下<code>coding</code>和<code>debug</code>这两个奇葩分别对应一两首奇葩歌曲，这是耍我么？？？
jing有个很严重的毛病，至少我是这么认为，经常性自己暂停！</p>
<h4 id="kugou.com">kugou.com</h4><ul>
<li>kugou.fm 打开内容是奇葩的 douban.fm (此处指 kugou.com --&gt; 电台)
电台就那么99个，同样的电台同样是重复，只有99个电台，总是重复。
你重复，我只好换了。</li>
</ul>
<h4 id="douban.fm">douban.fm</h4><p>经常莫名的插播广告，声音广告那种。点击不再播放，会误杀一首歌曲。
我评价：垃圾货一个！整个douban都是。</p>
<h4 id="fm.baidu.com">fm.baidu.com</h4><p>我是骨粉，从来没觉得百度好过。百度的电台实在不咋地，给你看一个品质设置，故意给你看个低品质。
一副自以为很牛的样子，牛到谷歌搜的都是百度搜索的自页面，牛到打开页面都是百度转码的符合手机的版本。
俺浏览器支持手机，也是俺的错么。百度统计，会在左上角爆出百度的ico。</p>
<p>借用我家大师的话：百度===垃圾中的战斗机
@2014-11-03，用百度音乐盒听几首新歌，然后弹窗了个百度音乐人广告，点击空白不消失，点击ESC也不行，丫的想去地狱么？你当我不会关闭标签页么！
@2014-11-03，MD fm也来广告了，能嵌入弹窗推广，你丫还有什么不能，终生不用！！！</p>
<p>另，百度的一键存到百度云没有了，默认都在云音乐，so批量下载没有了，不是会员别想来。。。</p>
<h2 id="总结">总结</h2><p>戴上耳机，听着Radio，Coding...</p>
]]></content>
    
    
      <category term="life" scheme="http://gshmu.github.io/tags/life/"/>
    
      <category term="Other" scheme="http://gshmu.github.io/categories/Other/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[bash]]></title>
    <link href="http://gshmu.github.io/2014/09/05/bash/"/>
    <id>http://gshmu.github.io/2014/09/05/bash/</id>
    <published>2014-09-04T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<p>my bash</p>
<h4 id="声明">声明</h4><p>本文不是介绍bash的，当然也不含有bash历史，本文写的很随意，如果你不喜欢这些，请移步。
有高见，欢迎来IRC： <code>/join #zh-cn</code></p>
<h3 id="ps1">PS1</h3><p>整一个个性的提示符<code>PS1</code>，我的提示符：
<a href="http://bashrcgenerator.com/"><code>^_^:~$</code></a></p>
<blockquote>
<p>export PS1=&quot;[\e[00;37m]\n[\e[0m][\e[00;34m]^_^[\e[0m][\e[01;31m]:[\e[0m][\e[00;36m]\w[\e[0m][\e[01;33m]\$[\e[0m][\e[00;37m] [\e[0m]&quot;</p>
</blockquote>
<p>点击上面的提示符 or <a href="http://bashrcgenerator.com/">bashrcgenerator</a>，定制一个属于自己的提示符吧。
使用该提示符，将生成的代码复制粘贴到<code>~/.bashrc</code>文件即可。（其实是<code>export</code>一个常量<code>PS1</code>，所以有必要放在<code>PS1</code>赋值的后边，以便生效。）</p>
<h3 id="唤醒历史命令补全">唤醒历史命令补全</h3><p>将下述代码复制粘贴到<code>~/.bashrc</code>文件，然后输入部分命令再使用上下键试试。</p>
<blockquote>
<p>bind &#39;&quot;\e[A&quot;: history-search-backward&#39;</p>
<p>bind &#39;&quot;\e[B&quot;: history-search-forward&#39;</p>
</blockquote>
<h3 id="控制命令<code>$?</code>">控制命令<code>$?</code></h3><ul>
<li><code>;</code>: 组合多个命令，按循序执行。</li>
<li><code>&amp;</code>: 使命令开启一个子Shelll并在后台执行。</li>
<li><code>&amp;&amp;</code>: 前面命令成功后，执行后边命令。</li>
<li><code>||</code>: 前面命令执行失败后，执行后边的命令。</li>
</ul>
<h3 id="重定向">重定向</h3><ul>
<li><code>&gt;</code>: 重定向输出。（新建，会覆盖）</li>
<li><code>&gt;&gt;</code>: 重定向追加输出。（追加，会新建）</li>
<li><code>&lt;</code>: 重定向输入，一般从文件读入等。</li>
<li><code>&lt;&lt;</code>: <code>&lt;&lt; &quot;str&quot;</code>，重定向输入，遇到<code>str</code>自动结束。</li>
<li><code>|</code>: 管道，不解释了。<code>*****</code>五星级。</li>
</ul>
<h4 id="-"> </h4><ul>
<li>标准输入（stdin）：代码为0，<code>0&lt; or 0&lt;&lt;</code></li>
<li>标准输出(stdout)：代码为1，<code>1&gt; or 1&gt;&gt;</code></li>
<li>错误输出(stderr)：代码为2，<code>2&gt; or 2&gt;&gt;</code></li>
<li>eg: <code>COMMAND &amp;&gt;/dev/null &amp;</code> or <code>COMMAND 1&gt;/dev/null 2&gt;&amp;1 &amp;</code>  # 重定向输入，并后台运行。</li>
</ul>
<h2 id=".bashrc-at-ubuntu">.bashrc at Ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">alias ga=<span class="string">'git add'</span></div><div class="line">alias gb=<span class="string">'git branch'</span></div><div class="line">alias gc=<span class="string">'git commit'</span></div><div class="line">alias gd=<span class="string">'git diff'</span></div><div class="line">alias gf=<span class="string">'git fetch'</span></div><div class="line">alias gl=<span class="string">'git log'</span></div><div class="line">alias gs=<span class="string">'git status'</span></div><div class="line">alias go=<span class="string">'git checkout'</span></div><div class="line">  </div><div class="line"><span class="keyword">export</span> PS1=<span class="string">"\[\e[00;37m\]\n\[\e[0m\]\[\e[00;34m\]^_^\[\e[0m\]\[\e[01;31m\]:\[\e[0m\]\[\e[00;36m\]\w\[\e[0m\]\[\e[01;33m\]\\$\[\e[0m\]\[\e[00;37m\] \[\e[0m\]"</span></div><div class="line">  </div><div class="line">. /usr/share/bash-completion/completions/git  <span class="comment"># about my git completions</span></div><div class="line">__git_complete ga _git_add</div><div class="line">__git_complete gb _git_branch</div><div class="line">__git_complete gc _git_commit</div><div class="line">__git_complete gd _git_diff</div><div class="line">__git_complete gf _git_fetch</div><div class="line">__git_complete gl _git_log</div><div class="line">__git_complete go _git_checkout</div></pre></td></tr></table></figure>

<p>经过一番折腾，激活了git的自动完成，有自动完成的别名才有意义。</p>
]]></content>
    
    
      <category term="bash" scheme="http://gshmu.github.io/tags/bash/"/>
    
      <category term="config" scheme="http://gshmu.github.io/tags/config/"/>
    
      <category term="Linux" scheme="http://gshmu.github.io/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[MySQL Notes]]></title>
    <link href="http://gshmu.github.io/2014/08/15/MySQL/"/>
    <id>http://gshmu.github.io/2014/08/15/MySQL/</id>
    <published>2014-08-14T16:00:00.000Z</published>
    <updated>2015-02-28T04:08:46.000Z</updated>
    <content type="html"><![CDATA[<p>MySQL 备忘，已经用到的一些命令，方式信马游缰。一句话总结：那些我用到的MySQL语句。</p>
<h2 id="mysql">MySQL</h2><figure class="highlight SQL"><figcaption><span>shell登录，‘-u’用户‘root’；‘-p’需要密码。</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mysql -u root -p</div></pre></td></tr></table></figure>

<h3 id="new-db">New db</h3><ul>
<li>Create database</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> db_name;</span></div></pre></td></tr></table></figure>

<ul>
<li>Add user</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.<span class="keyword">user</span>(Host,<span class="keyword">User</span>,<span class="keyword">Password</span>) \</div><div class="line"><span class="keyword">values</span>(<span class="string">"localhost"</span>,<span class="string">"user_name"</span>,<span class="keyword">password</span>(<span class="string">"user_password"</span>));</span></div></pre></td></tr></table></figure>

<ul>
<li>Show user</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">user</span>,host,<span class="keyword">password</span> <span class="keyword">from</span> mysql.<span class="keyword">user</span>;</span></div></pre></td></tr></table></figure>

<ul>
<li>Add permission</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> db_name.* <span class="keyword">to</span> \</div><div class="line">user_name@localhost <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'user_password'</span>;</span></div><div class="line"><span class="operator"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span></div></pre></td></tr></table></figure>

<ul>
<li>Show permission</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">show</span> <span class="keyword">grants</span> <span class="keyword">for</span> user_name@<span class="string">'localhost'</span>;</span></div></pre></td></tr></table></figure>

<ul>
<li>Alter character (utf-8)</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">alter</span> <span class="keyword">database</span> db_name <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> = utf8;</span></div></pre></td></tr></table></figure>

<ul>
<li>Recommend create</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">database</span> db_name <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></div></pre></td></tr></table></figure>

<h2 id="other">Other</h2><ul>
<li>foreign_key_checks</li>
</ul>
<figure class="highlight mysql"><figcaption><span>一对好基友</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">set</span> foreign_key_checks = <span class="number">0</span>;</span></div><div class="line">$_do_some_command;</div><div class="line"><span class="operator"><span class="keyword">set</span> foreign_key_checks = <span class="number">1</span>;</span></div></pre></td></tr></table></figure>

<ul>
<li>show databases</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">show</span> <span class="keyword">databases</span>;</span></div></pre></td></tr></table></figure>

<ul>
<li>use databases</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">db_name</span>;</div></pre></td></tr></table></figure>

<ul>
<li>truncate table</li>
</ul>
<figure class="highlight mysql"><figcaption><span>清空表中所有内容，结构不变化:</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">truncate</span> <span class="keyword">table</span> table_name;</span></div></pre></td></tr></table></figure>

<ul>
<li>drop table</li>
</ul>
<figure class="highlight mysql"><figcaption><span>销毁表，结构不复存在:</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">drop</span> <span class="keyword">table</span> table_name;</span></div></pre></td></tr></table></figure>

<ul>
<li>update</li>
</ul>
<figure class="highlight mysql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">update</span> db_name.table_name <span class="keyword">set</span> column_name = new_value <span class="keyword">where</span> id&gt;<span class="number">0</span> <span class="keyword">and</span> your_where</span></div></pre></td></tr></table></figure>

<p>id&gt;0 我是被那个safe update逼的。</p>
<h2 id="end:-本文仅总结了我用到的一些语句。">End: 本文仅总结了我用到的一些语句。</h2><p>注：代码命令中含有<code>_</code>的，很多时候是需要你修改的。但也有不是的，如<code>set xx_xx = 0</code>，你需要修改<code>0 or 1</code>。</p>
]]></content>
    
    
      <category term="MySQL" scheme="http://gshmu.github.io/tags/MySQL/"/>
    
      <category term="MySQL" scheme="http://gshmu.github.io/categories/MySQL/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[AND & OR]]></title>
    <link href="http://gshmu.github.io/2014/08/08/and_or/"/>
    <id>http://gshmu.github.io/2014/08/08/and_or/</id>
    <published>2014-08-07T16:00:00.000Z</published>
    <updated>2015-03-23T00:12:46.000Z</updated>
    <content type="html"><![CDATA[<p>Python 的bool运算 and &amp; or，但运算结果不是单纯的False或者True，无疑结果是对的。一句话总结：用最少的运算，保留更多的信息，保证正确的结果。</p>
<h2 id="documentation">Documentation</h2><table>
<thead>
<tr>
<th>Operation</th>
<th>Result</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>x or y</td>
<td>if x is false, then y, else x</td>
<td>运算是短路的</td>
</tr>
<tr>
<td>x and y</td>
<td>if x is false, then x, else y</td>
<td>运算是短路的</td>
</tr>
</tbody>
</table>
<h3 id="关于短路">关于短路</h3><p><code>print None and None[0]</code>没有报错，正常打印出None。（<code>None[0]</code>会报<code>TypeError</code>错）</p>
<h3 id="<code>bool-?-x-:-y</code>运算"><code>bool ? x : y</code>运算</h3><p>由于python的bool运算保留了更多信息，所以可以实现上述三目运算。</p>
<h5 id="三目运算">三目运算</h5><p><em>三目运算是这样的，可是存在一个误区！</em>
<code>bool and x or y</code></p>
<h5 id="误区，当x为假时，永远返回y。">误区，当x为假时，永远返回y。</h5><p>修正上述误区：<code>((test and [x]) or [y])[0]</code>采用了<code>x</code>为假时，<code>[x]</code>为真（避免上述误区），然后<code>[0]</code>索引求值。</p>
<p>还有种简洁的写法：<code>(y, x)[bool]</code> 其中x，y是反的，用<code>bool</code>索引求值。</p>
<p>上面涉及了两个值，网上还有三个或更多值的，我就不多少了，也不建议去搜。<code>ugly</code>！</p>
<h3 id="技巧vs陷阱">技巧VS陷阱</h3><p>我认为，这个既算不上技巧，也不能称为陷阱。</p>
<p>python实现三目运算还是用<code>x if bool else y</code>，从看着到结果都比较顺眼。当然适当的使用and &amp; or保留值的特性也是可以的，主要是你要明白你写的是什么。</p>
<h2 id="写代码，自己要明白，还要让看的人明白。">写代码，自己要明白，还要让看的人明白。</h2><p>（看的人也要知道自己看的是python）</p>
]]></content>
    
    
      <category term="python" scheme="http://gshmu.github.io/tags/python/"/>
    
      <category term="bool" scheme="http://gshmu.github.io/tags/bool/"/>
    
      <category term="Python" scheme="http://gshmu.github.io/categories/Python/"/>
    
  </entry>
  
</feed>
